<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description"><title>跨平台开发TODO实例文档 | dmemoing</title><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/5.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/0.6.2/grids-responsive-min.css"><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.1.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">跨平台开发TODO实例文档</h1><a id="logo" href="/.">dmemoing</a><p class="description"></p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">跨平台开发TODO实例文档</h1><div class="post-meta">Apr 12, 2017<script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> Hits</span></span></div><div class="post-content"><p>我们要完成一个TODO的应用，完成后的TODO应用如下图<br><img src="/images/todo/step1.png" alt="TODO实例"><br><a href="https://github.com/dmemoing/todo-project" target="_blank" rel="external">github</a>上有实例的完整示例代码</p>
<h2 id="ionic安装"><a href="#ionic安装" class="headerlink" title="ionic安装"></a>ionic安装</h2><p>ionic的安装需要nodejs的环境，<a href="https://nodejs.org/en/" target="_blank" rel="external">官网</a>上有各个版本系统的安装包，下载安装即可。安装完成后，npm工具就应该可以使用了，通过命令<code>npm -v</code>查看是否成功安装。</p>
<p>ionic官网上可以找到<a href="http://ionicframework.com/docs/v1/getting-started/" target="_blank" rel="external">getting-started</a>文档，我们使用<code>ionic v1</code>版本，介绍了安装，创建初始项目，运行，添加platform，打包，模拟器模拟的命令。</p>
<h2 id="创建空项目"><a href="#创建空项目" class="headerlink" title="创建空项目"></a>创建空项目</h2><p>安装完成环境后，我们开始我们应用的构建。<br>命令行输入<code>ionic start todo blank</code>，生成空项目，项目结构如下。<br><img src="/images/todo/ionic.png" alt="项目架构"><br>我们之后实现TODO实例所需要修改的代码都在<code>www</code>文件夹中。</p>
<p>创建完成后，进入该文件夹，通过命令<code>ionic serve</code>，启动创建好的空项目，会自动打开浏览器，显示自动生成的空项目的内容，推荐使用chrome作为默认浏览器，按<code>F12</code>进入开发者模式，左上角点击<img src="/images/todo/button.png" alt="">图标，切换到响应式开发模式，这是网页被切换到手机屏幕大小，方便我们开发移动应用。运行效果如下图。<br><img src="/images/todo/blank.png" alt="空视图"></p>
<h2 id="设置路由"><a href="#设置路由" class="headerlink" title="设置路由"></a>设置路由</h2><p>我们将实现一个多页面的应用，涉及到路由的跳转及页面切换，如何实现路由及页面跳转，首先我们需要在<code>index.html</code>中插入<code>&lt;ion-nav-view&gt;</code>标签，作为页面加载的位置<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;body ng-app=&quot;starter&quot;&gt;</div><div class="line">  &lt;ion-nav-bar class=&quot;bar-dark&quot;&gt;&lt;/ion-nav-bar&gt;</div><div class="line">  &lt;ion-nav-view&gt;&lt;/ion-nav-view&gt;</div><div class="line">&lt;/body&gt;</div></pre></td></tr></table></figure></p>
<p>页面会加载到该标签所在的位置，该标签起到一个定位的作用。</p>
<p>路由的跳转，将使用<code>$stateProvider</code>来实现，首先我们创建一个初始路由，在<code>www/app.js</code>文件中添加如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">.config(function($stateProvider, $urlRouterProvider) &#123;</div><div class="line">  $stateProvider</div><div class="line">    .state(&apos;tasks&apos;, &#123;</div><div class="line">      url: &apos;/tasks&apos;,</div><div class="line">      templateUrl: &apos;templates/tasks.html&apos;,</div><div class="line">      controller: &apos;TasksController&apos;</div><div class="line">    &#125;);</div><div class="line">  $urlRouterProvider.otherwise(&apos;/tasks&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p><code>$stateProvider</code>根据状态进行跳转，我们最初的状态是<code>tasks</code>，改状态对应的路由是<code>/tasks</code>，对应的模板是<code>templates/tasks.html</code>，控制器为<code>TasksController</code>，<code>$urlRouterProvider.otherwise</code>设置<code>/tasks</code>作为初始路由，初始启动时该状态的模板会被加载到上面的<code>&lt;ion-nav-view&gt;</code>的位置，模板和控制器对应的文件我们都还没有创建，接下来我们来创建这两个文件。</p>
<h2 id="tasks状态"><a href="#tasks状态" class="headerlink" title="tasks状态"></a>tasks状态</h2><p>初始状态tasks将用list列表显示我们所有添加的task，所以在模板中我们应该将其定义出来，在<code>www</code>文件夹下创建<code>templates</code>文件夹，用来存储所有的状态的模板，我们在该文件夹下创建<code>tasks.html</code>文件，内容为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">&lt;ion-view view-title=&quot;Todo&quot;&gt;</div><div class="line">    &lt;ion-nav-buttons side=&quot;right&quot;&gt;</div><div class="line">        &lt;button class=&quot;button button-icon&quot; ui-sref=&quot;create&quot;&gt;</div><div class="line">            &lt;i class=&quot;icon ion-compose&quot;&gt;&lt;/i&gt;</div><div class="line">        &lt;/button&gt;</div><div class="line">    &lt;/ion-nav-buttons&gt;</div><div class="line">    &lt;ion-content&gt;</div><div class="line">        &lt;!-- our list and list items --&gt;</div><div class="line">        &lt;ion-list&gt;</div><div class="line">            &lt;ion-item ng-repeat=&quot;task in tasks&quot;&gt;</div><div class="line">                &#123;&#123;task.title&#125;&#125;</div><div class="line">            &lt;/ion-item&gt;</div><div class="line">        &lt;/ion-list&gt;</div><div class="line">    &lt;/ion-content&gt;</div><div class="line">&lt;/ion-view&gt;</div></pre></td></tr></table></figure></p>
<p>设置页面的标题为<code>TODO</code>，在<code>&lt;ion-content&gt;</code>中添加一个list列表，插入<code>&lt;ion-list&gt;</code>标签，列表中的每一项由<code>&lt;ion-item&gt;</code>定义，我们要将tasks填入其中，通过<code>ng-repeat</code>属性，类似于for循环，取出tasks数组中的每个元素，每个元素是一个json格式的对象，即其中数据以键值对的形式存储，我们获取其中title键对应的值，也就是我们所添加的一个task的内容，我们通过数据绑定的形式将数据绑定到指定位置，通过双大括号来实现，在双大括号中填入需要绑定的变量名，即可将其绑定，这样我们就在每个<code>&lt;ion-item&gt;</code>中显示了我们的task的内容。</p>
<p>以上我们就完成了<code>tasks.html</code>模板的实现，模板控制页面内容显示的格式，具体的数据需要在控制器中给出，我们在<code>www/js</code>下创建<code>controllers</code>文件夹用来存储所有的控制器，在该文件夹下创建<code>TasksController.js</code>文件，实现状态tasks的控制器，具体代码如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter.controllers&apos;)</div><div class="line">.controller(&apos;TasksController&apos;, function ($scope) &#123;</div><div class="line">  $scope.tasks = [</div><div class="line">    &#123; title: &apos;Collect coins&apos; &#125;,</div><div class="line">    &#123; title: &apos;Eat mushrooms&apos; &#125;,</div><div class="line">    &#123; title: &apos;Get high enough to grab the flag&apos; &#125;,</div><div class="line">    &#123; title: &apos;Find the Princess&apos; &#125;</div><div class="line">  ];</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>这里需要解释一下<code>$scope</code>的概念，每个控制器都对应着一个域，每个控制器控制着html模板中的一部分视图，在该部分视图中使用的变量或者函数都需要定义在这个域中，反过来说，只要你要<code>$scope</code>中定义了的变量和函数，你都可以在相应视图中直接使用。我们这里先将静态的值赋给tasks数组。我们这里创建了一个控制器模块<code>starter.controllers</code>，我们需要在<code>app.js</code>文件中申明才能在项目中使用，将该模块添加到主模块中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter&apos;, [&apos;ionic&apos;, &apos;starter.controllers&apos;])</div></pre></td></tr></table></figure></p>
<p>同时在最下面申明：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter.controllers&apos;, []);</div></pre></td></tr></table></figure></p>
<p>另外添加的新的控制器需要在<code>index.html</code>中进行申明，即在<code>index.html</code>中<code>&lt;head&gt;</code>标签范围内添加，我们之后编写的js代码同样需要添加到<code>index.html</code>文件中<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;!-- your app&apos;s js --&gt;</div><div class="line">&lt;script src=&quot;js/app.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/controllers/TasksController.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>具体各个申明添加的位置请在<a href="https://github.com/dmemoing/todo-project" target="_blank" rel="external">github</a>上给出的示例代码中找到，正确添加。</p>
<p>此时我们看到的运行效果应该如下：<br><img src="/images/todo/list.png" alt="list"></p>
<h2 id="跳转到create页"><a href="#跳转到create页" class="headerlink" title="跳转到create页"></a>跳转到create页</h2><p>我们需要添加新的task，我们通过在标题栏的右边添加一个按钮，点击创建弹出新建task的页，这里涉及到页面跳转，即状态转换，在上述<code>tasks.html</code>模板中，有如下代码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;ion-nav-buttons side=&quot;right&quot;&gt;</div><div class="line">    &lt;button class=&quot;button button-icon&quot; ui-sref=&quot;create&quot;&gt;</div><div class="line">        &lt;i class=&quot;icon ion-compose&quot;&gt;&lt;/i&gt;</div><div class="line">    &lt;/button&gt;</div><div class="line">&lt;/ion-nav-buttons&gt;</div></pre></td></tr></table></figure></p>
<p>这段代码在标题栏右侧添加了一个编辑的按钮，同时<code>ui-serf</code>属性使得点击该按钮后，状态会转换到<code>create</code>状态，也就是我们用来新建task的状态，<code>create</code>状态我们还没有创建，接下来我们添加<code>create</code>状态，在<code>app.js</code>的状态中添加：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">.config(function($stateProvider, $urlRouterProvider) &#123;</div><div class="line">  $stateProvider</div><div class="line">    .state(&apos;tasks&apos;, &#123;</div><div class="line">      url: &apos;/tasks&apos;,</div><div class="line">      templateUrl: &apos;templates/tasks.html&apos;,</div><div class="line">      controller: &apos;TasksController&apos;</div><div class="line">    &#125;)</div><div class="line">    .state(&apos;create&apos;, &#123;</div><div class="line">      url: &quot;/tasks/create&quot;,</div><div class="line">      templateUrl: &quot;templates/create.html&quot;,</div><div class="line">      controller: &quot;CreateController&quot;</div><div class="line">    &#125;);</div><div class="line">  $urlRouterProvider.otherwise(&apos;/tasks&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>相应的我们需要创建其模板和控制器， 模板<code>create.html</code>如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">&lt;ion-view view-title=&quot;New Task&quot;&gt;</div><div class="line">	&lt;ion-nav-buttons side=&quot;right&quot;&gt;</div><div class="line">		&lt;button class=&quot;button button-clear button-white&quot; ui-sref=&quot;tasks&quot;&gt;Cancel&lt;/button&gt;</div><div class="line">	&lt;/ion-nav-buttons&gt;</div><div class="line"></div><div class="line">	&lt;ion-content&gt;</div><div class="line">		&lt;form ng-submit=&quot;createTask(task)&quot;&gt;</div><div class="line">			&lt;div class=&quot;list&quot;&gt;</div><div class="line">				&lt;label class=&quot;item item-input&quot;&gt;</div><div class="line">					&lt;input type=&quot;text&quot; placeholder=&quot;What do you need to do?&quot; ng-model=&quot;task.title&quot;&gt;</div><div class="line">				&lt;/label&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">			&lt;div class=&quot;padding&quot;&gt;</div><div class="line">				&lt;button type=&quot;submit&quot; class=&quot;button button-block button-positive&quot;&gt;Create Task&lt;/button&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		&lt;/form&gt;</div><div class="line">	&lt;/ion-content&gt;</div><div class="line">&lt;/ion-view&gt;</div></pre></td></tr></table></figure></p>
<p>模板中我们创建了一个表单，用来填写新的task并创建，包含一个输入框和一个按钮，表单拥有<code>ng-submit</code>属性，将<code>createTask()</code>函数赋值给该属性，表明该表单的提交交给该函数来处理，我们又一个输入的值，如何获取这个值并且传给函数，这里用到<code>ng-model</code>将输入框的值绑定到<code>task</code>变量的<code>title</code>键上，之后再将task变量传给函数作为参数。</p>
<p>控制器中：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter.controllers&apos;)</div><div class="line">.controller(&apos;CreateController&apos;, function ($state, $scope, Tasks) &#123;</div><div class="line">  $scope.createTask = function(task) &#123;</div><div class="line">    Tasks.save(task);</div><div class="line">    $state.go(&quot;tasks&quot;);</div><div class="line">    //console.log(task);</div><div class="line">  &#125;;</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>我们需要将新创建的<code>task</code>存储起来，我们新建一个<code>Tasks</code>服务来帮助我们进行该操作。<br>新建一个服务模块，并创建一个<code>factory</code>用来处理数据，在<code>www/js</code>文件夹下创建<code>services.js</code>文件：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter.services&apos;)</div><div class="line">.factory(&apos;Tasks&apos;, function() &#123;</div><div class="line">	return &#123;</div><div class="line">		all: function() &#123;</div><div class="line">			var taskString = window.localStorage[&apos;tasks&apos;];</div><div class="line">			if(taskString) &#123;</div><div class="line">				return angular.fromJson(taskString);</div><div class="line">			&#125;</div><div class="line">			return [];</div><div class="line">		&#125;,</div><div class="line">		save: function(task) &#123;</div><div class="line">			var tasks = [];</div><div class="line">			var taskString = window.localStorage[&apos;tasks&apos;];</div><div class="line">			if(taskString) &#123;</div><div class="line">				tasks = angular.fromJson(taskString);</div><div class="line">			&#125;</div><div class="line">			tasks.push(task);</div><div class="line">			window.localStorage[&apos;tasks&apos;] = angular.toJson(tasks);</div><div class="line">		&#125;</div><div class="line">	&#125;</div><div class="line">&#125;)</div></pre></td></tr></table></figure></p>
<p>这里我们创建了<code>all</code>和<code>save</code>两个函数，<code>all</code>函数用来在从<code>localStorage</code>中获取当前所有的tasks，在状态tasks加载时，会调用该函数，初始化<code>$scope.tasks</code>，所以<code>TasksCtronller.js</code>文件可以修改如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter.controllers&apos;)</div><div class="line">.controller(&apos;TasksController&apos;, function ($rootScope, $scope, Tasks) &#123;</div><div class="line">	$scope.tasks = Tasks.all();</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>而<code>save</code>函数使用来存储一个新创建的task到<code>localStorage</code>中，所以在<code>createTask</code>函数中调用该函数来存储新创建的task，在创建完task后，我们需要跳转会tasks状态，使用<code>$state.go(&quot;tasks&quot;);</code>实现状态的跳转，另外页面标题的右侧添加<code>cancel</code>按钮，用来取消创建，直接返回tasks状态，通过<code>ui-serf</code>来实现跳转。</p>
<p>完成上述创建后，同样需要在<code>index.html</code>和<code>app.js</code>文件中进行申明：<br><code>index.html</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">&lt;!-- your app&apos;s js --&gt;</div><div class="line">&lt;script src=&quot;js/app.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/services.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/controllers/TasksController.js&quot;&gt;&lt;/script&gt;</div><div class="line">&lt;script src=&quot;js/controllers/CreateController.js&quot;&gt;&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p><code>app.js</code><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">angular.module(&apos;starter&apos;, [&apos;ionic&apos;,&apos;starter.controllers&apos;,&apos;starter.services&apos;])</div><div class="line"></div><div class="line">angular.module(&apos;starter.controllers&apos;, [&apos;starter.services&apos;]);</div><div class="line">angular.module(&apos;starter.services&apos;, []);</div></pre></td></tr></table></figure></p>
<p>具体如何申明请参见<a href="https://github.com/dmemoing/todo-project" target="_blank" rel="external">github</a>代码</p>
<h2 id="清除缓存"><a href="#清除缓存" class="headerlink" title="清除缓存"></a>清除缓存</h2><p>我们的实现已经基本完成，然而我们创建新的task后跳转会列表页面，但列表页面并没有刷新，这是因为angular框架默认对页面有缓存机制，对于已经显示过的页直接显示缓存的内容，不会重新获取数据，我们可以通过在<code>app.js</code>文件<code>.config</code>中状态配置中来关闭缓存：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">.config(function($stateProvider, $urlRouterProvider) &#123;</div><div class="line">  $stateProvider</div><div class="line">    .state(&apos;tasks&apos;, &#123;</div><div class="line">      cache: false,</div><div class="line">      url: &apos;/tasks&apos;,</div><div class="line">      templateUrl: &apos;templates/tasks.html&apos;,</div><div class="line">      controller: &apos;TasksController&apos;</div><div class="line">    &#125;)</div><div class="line">    .state(&apos;create&apos;, &#123;</div><div class="line">      url: &quot;/tasks/create&quot;,</div><div class="line">      templateUrl: &quot;templates/create.html&quot;,</div><div class="line">      controller: &quot;CreateController&quot;</div><div class="line">    &#125;);</div><div class="line">  $urlRouterProvider.otherwise(&apos;/tasks&apos;);</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>我们设置<code>tasks</code>状态的<code>cache</code>键为<code>false</code>，这样每次跳转到这个状态时，都会重新加载获取数据。</p>
<h2 id="打包运行"><a href="#打包运行" class="headerlink" title="打包运行"></a>打包运行</h2><p>ionic应用打包十分简单，通过如下两条命令<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">$ ionic platform add android</div><div class="line">$ ionic build android</div></pre></td></tr></table></figure></p>
<p>以上两条命令就可以完成应用的打包，但这两条命令可以运行的前提是你需要安装<code>android sdk</code>，下载和安装都可以在<code>Android Developer</code>上找到，这里直接给出<a href="https://developer.android.com/studio/index.html?hl=zh-cn" target="_blank" rel="external">下载链接</a>。</p>
<p>打包ios应用也是使用上述类似命令，同样需要ios开发环境才能完成打包。</p>
<h2 id="总结及作业"><a href="#总结及作业" class="headerlink" title="总结及作业"></a>总结及作业</h2><p>以上我们就完成了我们TODO实例的实现，通过这个实例，我们介绍了复杂应用构建的框架，包括模块、控制器、服务以及路由这些概念，希望通过以上的介绍，能够对前端开发有一个简单的认识。</p>
<p>请首先按照以上文档内容完成TODO实例的基础开发，在此基础上，添加标注完成task的功能，具体为：每个task条目左划显示出complete按钮，点击按钮后，表明该task已经完成，task内容上被划线，同时显示到列表的最下方，图解如下：<br><img src="/images/todo/step1.png" alt="初始状态"><br><img src="/images/todo/step2.png" alt="左划显示complete按钮"><br><img src="/images/todo/step3.png" alt="点击完成后"></p>
<p>左划显示出按钮可以参见<a href="http://ionicframework.com/docs/v1/api/directive/ionList/" target="_blank" rel="external">ion-list</a>官方文档中的介绍进行修改；对于如何切换task内容的划线，stackoverflow上的一个问题可供参考<a href="http://stackoverflow.com/questions/13813254/how-do-i-conditionally-apply-css-styles-in-angularjs" target="_blank" rel="external">how-do-i-conditionally-apply-css-styles-in-angularjs</a></p>
</div><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="http://yoursite.com/2017/04/12/todo-project/" data-id="cj1f27ldq0005eko0cj2zz0ot" class="article-share-link">分享到</a><div class="tags"><a href="/tags/ionic/">ionic</a><a href="/tags/angular/">angular</a><a href="/tags/cordova/">cordova</a></div><div class="post-nav"><a href="/2017/04/01/todo-document/" class="next">全栈开发TODO实例文档</a></div></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="http://yoursite.com"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/js/">js</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/react/" style="font-size: 15px;">react</a> <a href="/tags/angular2/" style="font-size: 15px;">angular2</a> <a href="/tags/js/" style="font-size: 15px;">js</a> <a href="/tags/ionic/" style="font-size: 15px;">ionic</a> <a href="/tags/nodejs/" style="font-size: 15px;">nodejs</a> <a href="/tags/express/" style="font-size: 15px;">express</a> <a href="/tags/mongodb/" style="font-size: 15px;">mongodb</a> <a href="/tags/angular/" style="font-size: 15px;">angular</a> <a href="/tags/cordova/" style="font-size: 15px;">cordova</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最新文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2017/04/12/todo-project/">跨平台开发TODO实例文档</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/todo-document/">全栈开发TODO实例文档</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/04/01/hello-world/">Hello World</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/03/04/react-and-angular2/">react和angular2比较</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://www.example1.com/" title="site-name1" target="_blank">site-name1</a><ul></ul><a href="http://www.example2.com/" title="site-name2" target="_blank">site-name2</a><ul></ul><a href="http://www.example3.com/" title="site-name3" target="_blank">site-name3</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">© <a href="/." rel="nofollow">dmemoing.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.pack.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="/css/jquery.fancybox.css?v=0.0.0"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>